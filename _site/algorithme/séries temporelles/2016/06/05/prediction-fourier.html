<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Transformée de Fourier appliquée à la prédiction de séries temporelles</title>
	
	<meta name="description" content="Application de la transformée de Fourier pour prédire des séries temporelles.">
	
	<meta name="author" content="Antoine Vastel">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">
	<script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>

	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/antoinevastel">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/xopek59">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:antoine.vastel@gmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
			<a class="navbar-brand" href="/">
				<img src="http://www.gravatar.com/avatar/42c0cef4d509eedea70a02b9a4276913?s=35" class="img-circle" />
				
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/categories.html">Categories</a></li>
				<li><a href="/tags.html">Tags</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i>Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-3 sidebar hidden-xs" style="">
		<!-- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="http://www.gravatar.com/avatar/42c0cef4d509eedea70a02b9a4276913?s=150" class="img-circle" />
	</a>
	<h3 class="title">
        <a href="/"></a>
    </h3>
</header>


<div id="bio" class="text-center">
	French PhD student and engineer, passionnate about software engineering and machine learning!
</div>


<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/antoinevastel">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/xopek59">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:antoine.vastel@gmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul id="contact-list-secondary" class="list-unstyled list-inline">
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://linkedin.com/in/antoinevastel">
				<i class="fa fa-linkedin fa-lg"></i>
			</a>
		</li>
		
		<li>
			<a class="btn btn-default btn-sm" href="/feed.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<!-- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3">
		<div class="page-header">
  <h1>Transformée de Fourier appliquée à la prédiction de séries temporelles </h1>
</div>
	
<article>

	<div class="col-sm-10">
	 <span class="post-date">
	   
	   June 
	   5th,
	   
	   2016
	 </span>
	  <div class="article_body">
	  <p>Dans cet article nous présenterons un algorithme utilisant la transformée de Fourier afin d’extrapoler un signal/fonction. L’objectif est d’approximer notre fonction par une somme de fonctions sinus et cosinus.</p>

<p>La seule librairie que nous utiliserons est <a href="https://github.com/jensnockert/fft.js">ffts.js</a>. Elle fournit une implémentation de la transformation de Fourier rapide (Fast Fourier Transform) en Javascript.</p>

<h1>Implémentation de l'algorithme</h1>

<p>La première étape de l’algorithme consiste à retirer la tendance de nos données. Nous considérerons une tendance linéaire que nous estimons en effectuant une régression linéaire.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">retirerTendanceLineaire</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="c1">//On considere que les donnees sont separees d'un pas de 1 dans le temps
</span>	<span class="c1">//(Axe x)
</span>	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//On effectue une regression lineaire
</span>	<span class="kd">var</span> <span class="nx">sum_x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">sum_y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="nx">sum_xx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">sum_xy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	 
	<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">sum_x</span> <span class="o">+=</span> <span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		<span class="nx">sum_y</span> <span class="o">+=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		 
		<span class="nx">sum_xx</span> <span class="o">+=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">2</span><span class="p">);</span>
		<span class="nx">sum_xy</span> <span class="o">+=</span> <span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
	<span class="p">}</span>
 	
 	<span class="c1">//On calcule le coefficient directeur de la droite
</span>	<span class="kd">var</span> <span class="nx">slope</span> <span class="o">=</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="nx">sum_xy</span> <span class="o">-</span> <span class="nx">sum_x</span> <span class="o">*</span> <span class="nx">sum_y</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="nx">sum_xx</span> <span class="o">-</span> <span class="nx">sum_x</span> <span class="o">*</span> <span class="nx">sum_x</span><span class="p">);</span>

	<span class="c1">//On soustrait la tendance (coef directeur ) aux donnees
</span>	<span class="kd">var</span> <span class="nx">donnees_sans_tendance</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>

	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">donnees_sans_tendance</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">-</span> <span class="nx">slope</span><span class="o">*</span><span class="nx">i</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//On retourne un objet contenant les donnees sans la tendance
</span>	<span class="c1">//Ainsi que le coefficient de la tendance dont nous aurons besoin a la fin
</span>	<span class="k">return</span> <span class="p">{</span><span class="s2">"donnees"</span><span class="p">:</span> <span class="nx">donnees_sans_tendance</span><span class="p">,</span> <span class="s2">"coef"</span><span class="p">:</span> <span class="nx">slope</span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">//Nous utilisons le jeu de donnees ci-dessous : 
</span><span class="kd">var</span> <span class="nx">donnees</span> <span class="o">=</span> <span class="p">[</span><span class="mi">669</span><span class="p">,</span> <span class="mi">592</span><span class="p">,</span> <span class="mi">664</span><span class="p">,</span> <span class="mi">1005</span><span class="p">,</span> <span class="mi">699</span><span class="p">,</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">646</span><span class="p">,</span> <span class="mi">472</span><span class="p">,</span> <span class="mi">598</span><span class="p">,</span> <span class="mi">681</span><span class="p">,</span> <span class="mi">1126</span><span class="p">,</span> <span class="mi">1260</span><span class="p">,</span> <span class="mi">562</span><span class="p">,</span> <span class="mi">491</span><span class="p">,</span> <span class="mi">714</span><span class="p">,</span> <span class="mi">530</span><span class="p">,</span> <span class="mi">521</span><span class="p">,</span> <span class="mi">687</span><span class="p">,</span> <span class="mi">776</span><span class="p">,</span> <span class="mi">802</span><span class="p">,</span> <span class="mi">499</span><span class="p">,</span> <span class="mi">536</span><span class="p">,</span> <span class="mi">871</span><span class="p">,</span> <span class="mi">801</span><span class="p">,</span> <span class="mi">965</span><span class="p">,</span> <span class="mi">768</span><span class="p">,</span> <span class="mi">381</span><span class="p">,</span> <span class="mi">497</span><span class="p">,</span> <span class="mi">458</span><span class="p">,</span> <span class="mi">699</span><span class="p">,</span> <span class="mi">549</span><span class="p">,</span> <span class="mi">427</span><span class="p">,</span> <span class="mi">358</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="mi">635</span><span class="p">,</span> <span class="mi">756</span><span class="p">,</span> <span class="mi">775</span><span class="p">,</span> <span class="mi">969</span><span class="p">,</span> <span class="mi">598</span><span class="p">,</span> <span class="mi">630</span><span class="p">,</span> <span class="mi">649</span><span class="p">,</span> <span class="mi">722</span><span class="p">,</span> <span class="mi">835</span><span class="p">,</span> <span class="mi">812</span><span class="p">,</span> <span class="mi">724</span><span class="p">,</span> <span class="mi">966</span><span class="p">,</span> <span class="mi">778</span><span class="p">,</span> <span class="mi">584</span><span class="p">,</span> <span class="mi">697</span><span class="p">,</span> <span class="mi">737</span><span class="p">,</span> <span class="mi">777</span><span class="p">,</span> <span class="mi">1059</span><span class="p">,</span> <span class="mi">1218</span><span class="p">,</span> <span class="mi">848</span><span class="p">,</span> <span class="mi">713</span><span class="p">,</span> <span class="mi">884</span><span class="p">,</span> <span class="mi">879</span><span class="p">,</span> <span class="mi">1056</span><span class="p">,</span> <span class="mi">1273</span><span class="p">,</span> <span class="mi">1848</span><span class="p">,</span> <span class="mi">780</span><span class="p">,</span> <span class="mi">1206</span><span class="p">,</span> <span class="mi">1404</span><span class="p">,</span> <span class="mi">1444</span><span class="p">,</span> <span class="mi">1412</span><span class="p">,</span> <span class="mi">1493</span><span class="p">,</span> <span class="mi">1576</span><span class="p">,</span> <span class="mi">1178</span><span class="p">,</span> <span class="mi">836</span><span class="p">,</span> <span class="mi">1087</span><span class="p">,</span> <span class="mi">1101</span><span class="p">,</span> <span class="mi">1082</span><span class="p">,</span> <span class="mi">775</span><span class="p">,</span> <span class="mi">698</span><span class="p">,</span> <span class="mi">620</span><span class="p">,</span> <span class="mi">651</span><span class="p">,</span> <span class="mi">731</span><span class="p">,</span> <span class="mi">906</span><span class="p">,</span> <span class="mi">958</span><span class="p">,</span> <span class="mi">1039</span><span class="p">,</span> <span class="mi">1105</span><span class="p">,</span> <span class="mi">620</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">707</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="mi">1052</span><span class="p">,</span> <span class="mi">1072</span><span class="p">,</span> <span class="mi">1357</span><span class="p">,</span> <span class="mi">768</span><span class="p">,</span> <span class="mi">986</span><span class="p">,</span> <span class="mi">816</span><span class="p">,</span> <span class="mi">889</span><span class="p">,</span> <span class="mi">973</span><span class="p">,</span> <span class="mi">983</span><span class="p">,</span> <span class="mi">1351</span><span class="p">,</span> <span class="mi">1266</span><span class="p">,</span> <span class="mi">1053</span><span class="p">,</span> <span class="mi">1879</span><span class="p">,</span> <span class="mi">2085</span><span class="p">,</span> <span class="mi">2419</span><span class="p">,</span> <span class="mi">1880</span><span class="p">,</span> <span class="mi">2045</span><span class="p">,</span> <span class="mi">2212</span><span class="p">,</span> <span class="mi">1491</span><span class="p">,</span> <span class="mi">1378</span><span class="p">,</span> <span class="mi">1524</span><span class="p">,</span> <span class="mi">1231</span><span class="p">,</span> <span class="mi">1577</span><span class="p">,</span> <span class="mi">2459</span><span class="p">,</span> <span class="mi">1848</span><span class="p">,</span> <span class="mi">1506</span><span class="p">,</span> <span class="mi">1589</span><span class="p">,</span> <span class="mi">1386</span><span class="p">,</span> <span class="mi">1111</span><span class="p">,</span> <span class="mi">1180</span><span class="p">,</span> <span class="mi">1075</span><span class="p">,</span> <span class="mi">1595</span><span class="p">,</span> <span class="mi">1309</span><span class="p">,</span> <span class="mi">2092</span><span class="p">,</span> <span class="mi">1846</span><span class="p">,</span> <span class="mi">2321</span><span class="p">,</span> <span class="mi">2036</span><span class="p">,</span> <span class="mi">3587</span><span class="p">,</span> <span class="mi">1637</span><span class="p">,</span> <span class="mi">1416</span><span class="p">,</span> <span class="mi">1432</span><span class="p">,</span> <span class="mi">1110</span><span class="p">,</span> <span class="mi">1135</span><span class="p">,</span> <span class="mi">1233</span><span class="p">,</span> <span class="mi">1439</span><span class="p">,</span> <span class="mi">894</span><span class="p">,</span> <span class="mi">628</span><span class="p">,</span> <span class="mi">967</span><span class="p">,</span> <span class="mi">1176</span><span class="p">,</span> <span class="mi">1069</span><span class="p">,</span> <span class="mi">1193</span><span class="p">,</span> <span class="mi">1771</span><span class="p">,</span> <span class="mi">1199</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="mi">1155</span><span class="p">,</span> <span class="mi">1254</span><span class="p">,</span> <span class="mi">1403</span><span class="p">,</span> <span class="mi">1502</span><span class="p">,</span> <span class="mi">1692</span><span class="p">,</span> <span class="mi">1187</span><span class="p">,</span> <span class="mi">1110</span><span class="p">,</span> <span class="mi">1382</span><span class="p">,</span> <span class="mi">1808</span><span class="p">,</span> <span class="mi">2039</span><span class="p">,</span> <span class="mi">1810</span><span class="p">,</span> <span class="mi">1819</span><span class="p">,</span> <span class="mi">1408</span><span class="p">,</span> <span class="mi">803</span><span class="p">,</span> <span class="mi">1568</span><span class="p">,</span> <span class="mi">1227</span><span class="p">,</span> <span class="mi">1270</span><span class="p">,</span> <span class="mi">1268</span><span class="p">,</span> <span class="mi">1535</span><span class="p">,</span> <span class="mi">873</span><span class="p">,</span> <span class="mi">1006</span><span class="p">,</span> <span class="mi">1328</span><span class="p">,</span> <span class="mi">1733</span><span class="p">,</span> <span class="mi">1352</span><span class="p">,</span> <span class="mi">1906</span><span class="p">,</span> <span class="mi">2029</span><span class="p">,</span> <span class="mi">1734</span><span class="p">,</span> <span class="mi">1314</span><span class="p">,</span> <span class="mi">1810</span><span class="p">,</span> <span class="mi">1540</span><span class="p">,</span> <span class="mi">1958</span><span class="p">,</span> <span class="mi">1420</span><span class="p">,</span> <span class="mi">1530</span><span class="p">,</span> <span class="mi">1126</span><span class="p">,</span> <span class="mi">721</span><span class="p">,</span> <span class="mi">771</span><span class="p">,</span> <span class="mi">874</span><span class="p">,</span> <span class="mi">997</span><span class="p">,</span> <span class="mi">1186</span><span class="p">,</span> <span class="mi">1415</span><span class="p">,</span> <span class="mi">973</span><span class="p">,</span> <span class="mi">1146</span><span class="p">,</span> <span class="mi">1147</span><span class="p">,</span> <span class="mi">1079</span><span class="p">,</span> <span class="mi">3854</span><span class="p">,</span> <span class="mi">3407</span><span class="p">,</span> <span class="mi">2257</span><span class="p">,</span> <span class="mi">1200</span><span class="p">,</span> <span class="mi">734</span><span class="p">,</span> <span class="mi">1051</span><span class="p">,</span> <span class="mi">1030</span><span class="p">,</span> <span class="mi">1370</span><span class="p">,</span> <span class="mi">2422</span><span class="p">,</span> <span class="mi">1531</span><span class="p">,</span> <span class="mi">1062</span><span class="p">,</span> <span class="mi">530</span><span class="p">,</span> <span class="mi">1030</span><span class="p">,</span> <span class="mi">1061</span><span class="p">,</span> <span class="mi">1249</span><span class="p">,</span> <span class="mi">2080</span><span class="p">,</span> <span class="mi">2251</span><span class="p">,</span> <span class="mi">1190</span><span class="p">,</span> <span class="mi">756</span><span class="p">,</span> <span class="mi">1161</span><span class="p">,</span> <span class="mi">1053</span><span class="p">,</span> <span class="mi">1063</span><span class="p">,</span> <span class="mi">932</span><span class="p">,</span> <span class="mi">1604</span><span class="p">,</span> <span class="mi">1130</span><span class="p">,</span> <span class="mi">744</span><span class="p">,</span> <span class="mi">930</span><span class="p">,</span> <span class="mi">948</span><span class="p">,</span> <span class="mi">1107</span><span class="p">,</span> <span class="mi">1161</span><span class="p">,</span> <span class="mi">1194</span><span class="p">,</span> <span class="mi">1366</span><span class="p">,</span> <span class="mi">1155</span><span class="p">,</span> <span class="mi">785</span><span class="p">,</span> <span class="mi">602</span><span class="p">,</span> <span class="mi">903</span><span class="p">,</span> <span class="mi">1142</span><span class="p">,</span> <span class="mi">1410</span><span class="p">,</span> <span class="mi">1256</span><span class="p">,</span> <span class="mi">742</span><span class="p">,</span> <span class="mi">985</span><span class="p">,</span> <span class="mi">1037</span><span class="p">,</span> <span class="mi">1067</span><span class="p">,</span> <span class="mi">1196</span><span class="p">,</span> <span class="mi">1412</span><span class="p">,</span> <span class="mi">1127</span><span class="p">,</span> <span class="mi">779</span><span class="p">,</span> <span class="mi">911</span><span class="p">,</span> <span class="mi">989</span><span class="p">,</span> <span class="mi">946</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="mi">1349</span><span class="p">,</span> <span class="mi">1124</span><span class="p">,</span> <span class="mi">761</span><span class="p">,</span> <span class="mi">994</span><span class="p">,</span> <span class="mi">1068</span><span class="p">,</span> <span class="mi">971</span><span class="p">,</span> <span class="mi">1157</span><span class="p">,</span> <span class="mi">1558</span><span class="p">,</span> <span class="mi">1223</span><span class="p">,</span> <span class="mi">782</span><span class="p">,</span> <span class="mi">2790</span><span class="p">,</span> <span class="mi">1835</span><span class="p">,</span> <span class="mi">1444</span><span class="p">,</span> <span class="mi">1098</span><span class="p">,</span> <span class="mi">1399</span><span class="p">,</span> <span class="mi">1255</span><span class="p">,</span> <span class="mi">950</span><span class="p">,</span> <span class="mi">1110</span><span class="p">,</span> <span class="mi">1345</span><span class="p">,</span> <span class="mi">1224</span><span class="p">,</span> <span class="mi">1092</span><span class="p">,</span> <span class="mi">1446</span><span class="p">,</span> <span class="mi">1210</span><span class="p">,</span> <span class="mi">1122</span><span class="p">,</span> <span class="mi">1259</span><span class="p">,</span> <span class="mi">1181</span><span class="p">,</span> <span class="mi">1035</span><span class="p">,</span> <span class="mi">1325</span><span class="p">,</span> <span class="mi">1481</span><span class="p">,</span> <span class="mi">1278</span><span class="p">,</span> <span class="mi">769</span><span class="p">,</span> <span class="mi">911</span><span class="p">,</span> <span class="mi">876</span><span class="p">,</span> <span class="mi">877</span><span class="p">,</span> <span class="mi">950</span><span class="p">,</span> <span class="mi">1383</span><span class="p">,</span> <span class="mi">980</span><span class="p">,</span> <span class="mi">705</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="mi">877</span><span class="p">,</span> <span class="mi">638</span><span class="p">,</span> <span class="mi">1065</span><span class="p">,</span> <span class="mi">1142</span><span class="p">,</span> <span class="mi">1090</span><span class="p">,</span> <span class="mi">1316</span><span class="p">,</span> <span class="mi">1270</span><span class="p">,</span> <span class="mi">1048</span><span class="p">,</span> <span class="mi">1256</span><span class="p">,</span> <span class="mi">1009</span><span class="p">,</span> <span class="mi">1175</span><span class="p">,</span> <span class="mi">1176</span><span class="p">,</span> <span class="mi">870</span><span class="p">,</span> <span class="mi">856</span><span class="p">,</span> <span class="mi">860</span><span class="p">];</span>

<span class="nx">noTendanceObj</span> <span class="o">=</span> <span class="nx">retirerTendanceLineaire</span><span class="p">(</span><span class="nx">donnees</span><span class="p">);</span>
<span class="nx">donnees_sans_tendance</span> <span class="o">=</span> <span class="nx">noTendanceObj</span><span class="p">.</span><span class="nx">donnees</span><span class="p">;</span>
<span class="nx">coef_tendance</span> <span class="o">=</span> <span class="nx">noTendanceObj</span><span class="p">.</span><span class="nx">coef</span><span class="p">;</span></code></pre></div>

<p>Ensuite nous calculons la transformation de Fourier discrète à l’aide de la librairie fft.js.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">fft</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">o1</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">fft</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FFT</span><span class="p">.</span><span class="nx">complex</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
	
	
	<span class="nx">fft</span><span class="p">.</span><span class="nx">simple</span><span class="p">(</span><span class="nx">o1</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="s1">'real'</span><span class="p">)</span>
	<span class="c1">//Le tableau o1 contient le resultat de la fft
</span>	<span class="c1">//Les elements d'indices pairs sont les parties reelles
</span>	<span class="c1">//Les elements d'indices impairs les parties imaginaires
</span>	<span class="c1">//Nous constituons un tableau d'objets contenant directement
</span>	<span class="c1">//des attributes "reel" et "imaginaire" pour faciliter
</span>	<span class="c1">//les calculs par la suite
</span>	<span class="kd">var</span> <span class="nx">cpt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">tabComplexe</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">o1</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">tabComplexe</span><span class="p">[</span><span class="nx">cpt</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"reel"</span><span class="p">:</span> <span class="nx">o1</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">"imaginaire"</span><span class="p">:</span> <span class="nx">o1</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]};</span>
		<span class="nx">cpt</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">tabComplexe</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">domaine_freq</span> <span class="o">=</span> <span class="nx">fft</span><span class="p">(</span><span class="nx">donnees_sans_tendance</span><span class="p">);</span></code></pre></div>

<p>Nous calculons la fréquence d’échantillonage et trions les indices des fréquences selon leur valeur absolue. </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">fftfreq</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="nx">n</span>
	<span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="kd">var</span> <span class="nx">N</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="nx">val</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span><span class="p">(</span><span class="nx">N</span> <span class="o">-</span> <span class="nx">i</span><span class="p">))</span><span class="o">*</span><span class="nx">val</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">trier_indice_frequences</span><span class="p">(</span><span class="nx">freqs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kd">var</span> <span class="nx">tmpTab</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">freqs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">tmpTab</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"freq"</span><span class="p">:</span> <span class="nx">freqs</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">"indice"</span><span class="p">:</span> <span class="nx">i</span><span class="p">};</span>
	<span class="p">}</span>

	<span class="kd">function</span> <span class="nx">ordre</span><span class="p">(</span><span class="nx">elt1</span><span class="p">,</span> <span class="nx">elt2</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">elt1</span><span class="p">.</span><span class="nx">freq</span><span class="p">)</span> <span class="o">-</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">elt2</span><span class="p">.</span><span class="nx">freq</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">tmpTab</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">ordre</span><span class="p">);</span>

	<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">tmpTab</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">result</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">tmpTab</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">indice</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">f</span> <span class="o">=</span> <span class="nx">fftfreq</span><span class="p">(</span><span class="nx">donnees</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="c1">//on trie les indices des fréquences selon la valeur absolue des éléments de f
</span><span class="nx">indices_tries</span> <span class="o">=</span> <span class="nx">trier_indice_frequences</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span></code></pre></div>

<p>Une fois ce travail préliminaire effectué, nous pouvons passer à la phase de prédiction à proprement parler. Pour cela nous devons introduire deux nouvelles variables : 
- horizon, qui correspond à l’horizon de la prédiction;
- nb_harmonique, qui correspond grossièrement au nombre de fonctions sinus/cosinus que nous allons utiliser pour extrapoler notre série. Attention à ne pas choisir une valeur trop élevée, ce qui reviendrait à faire de l’overfitting.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">predire</span><span class="p">(</span><span class="nx">horizon</span><span class="p">,</span> <span class="nx">nb_harmonique</span><span class="p">,</span> <span class="nx">domaine_freq</span><span class="p">,</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">indices_tries</span><span class="p">,</span> <span class="nx">coef_tendance</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">signal_restaure</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">domaine_freq</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">horizon</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">signal_restaure</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span> <span class="nx">nb_harmonique</span><span class="o">*</span><span class="mi">2</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kd">var</span> <span class="nx">indice</span> <span class="o">=</span> <span class="nx">indices_tries</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		<span class="kd">var</span> <span class="nx">amplitude</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">domaine_freq</span><span class="p">[</span><span class="nx">indice</span><span class="p">].</span><span class="nx">reel</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">domaine_freq</span><span class="p">[</span><span class="nx">indice</span><span class="p">].</span><span class="nx">imaginaire</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="nx">domaine_freq</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">phase</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">atan2</span><span class="p">(</span><span class="nx">domaine_freq</span><span class="p">[</span><span class="nx">indice</span><span class="p">].</span><span class="nx">imaginaire</span><span class="p">,</span> <span class="nx">domaine_freq</span><span class="p">[</span><span class="nx">indice</span><span class="p">].</span><span class="nx">reel</span><span class="p">);</span>

		<span class="kd">var</span> <span class="nx">facteur</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="nx">f</span><span class="p">[</span><span class="nx">indice</span><span class="p">];</span>

		<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">domaine_freq</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">horizon</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="nx">signal_restaure</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">amplitude</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">facteur</span><span class="o">*</span><span class="nx">j</span><span class="o">+</span><span class="nx">phase</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">//On reajoute la tendance aux donnees predites
</span>	<span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">signal_restaure</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">signal_restaure</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">i</span><span class="o">*</span><span class="nx">coef_tendance</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">signal_restaure</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">horizon</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">nb_harmonique</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>
<span class="nx">prediction</span> <span class="o">=</span> <span class="nx">predire</span><span class="p">(</span><span class="nx">horizon</span><span class="p">,</span> <span class="nx">nb_harmonique</span><span class="p">,</span> <span class="nx">domaine_freq</span><span class="p">,</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">indices_tries</span><span class="p">,</span> <span class="nx">coef_tendance</span><span class="p">);</span></code></pre></div>

<h2>Représentation graphique</h2>
<p>En appliquant notre algorithme aux données précédentes nous obtenons le résultat suivant : </p>

<script src="/assets/js/complex.js" type="text/javascript"></script>

<script type="text/javascript">
	function retirerTendanceLineaire(data)
	{
		var x = Array();
		for(var i = 0; i < data.length; ++i)
		{
			x[i] = i;
		}

		//On effectue une regression lineaire
		var sum_x = 0, sum_y = 0,
		sum_xx = 0, sum_xy = 0;
		 
		for (var i = 0; i < data.length; i++) {
			sum_x += x[i];
			sum_y += data[i];
			 
			sum_xx += Math.pow(x[i], 2);
			sum_xy += x[i]*data[i];
		}
	 
		var slope = (data.length * sum_xy - sum_x * sum_y) / (data.length * sum_xx - sum_x * sum_x);

		//On soustrait la tendance aux donnees
		var donnees_sans_tendance = Array();

		for(var i = 0; i < data.length; ++i)
		{
			donnees_sans_tendance[i] = data[i] - slope*i;
		}

		return {"donnees": donnees_sans_tendance, "coef": slope};
	}

	function fft(data) {
		var o1 = new Array(2*data.length);
		var fft = new FFT.complex(data.length, false);
		
		
		fft.simple(o1, data, 'real')
		
		var cpt = 0;
		var tabComplexe = Array();
		for(var i = 0; i < o1.length; i += 2)
		{
			tabComplexe[cpt] = {"reel": o1[i], "imaginaire": o1[i+1]};
			cpt++;
		}

		return tabComplexe;
	}

	function fftfreq(n)
	{
		var val = 1.0/n
		var results = Array();
		var N = Math.floor((n-1)/2)+1;
		var p1 = Array();
		for(var i = 0; i < N; i++)
		{
			results[i] = i*val;
		}

		for(var i = N; i < n; i++)
		{
			results[i] = (-Math.floor(n/2) -(N - i))*val;
		}

		return results;
	}

	function trier_indice_frequences(freqs)
	{
		var tmpTab = Array();
		for(var i = 0; i < freqs.length; i++)
		{
			tmpTab[i] = {"freq": freqs[i], "indice": i};
		}

		function ordre(elt1, elt2)
		{
			return Math.abs(elt1.freq) - Math.abs(elt2.freq);
		}

		tmpTab.sort(ordre);

		var result = Array();
		for(var i = 0; i < tmpTab.length; i++)
		{
			result[i] = tmpTab[i].indice;
		}

		return result;
	}

	function predire(horizon, nb_harmonique, domaine_freq, f, indices_tries, coef_tendance)
	{
		signal_restaure = Array();
		for(var i = 0; i < domaine_freq.length + horizon; ++i)
		{
			signal_restaure[i] = 0;
		}

		for(var i = 0; i < (1+ nb_harmonique*2); i++)
		{
			var indice = indices_tries[i];
			var amplitude = Math.sqrt(Math.pow(domaine_freq[indice].reel, 2) + Math.pow(domaine_freq[indice].imaginaire, 2))/domaine_freq.length;
			var phase = Math.atan2(domaine_freq[indice].imaginaire, domaine_freq[indice].reel);

			var facteur = 2*Math.PI*f[indice];

			for(var j = 0; j < domaine_freq.length + horizon; j++)
			{
				signal_restaure[j] += amplitude*Math.cos(facteur*j+phase);
			}
		}

		//On reajoute la tendance aux donnees predites
		for( var i = 0; i < signal_restaure.length; ++i)
		{
			signal_restaure[i] += i*coef_tendance;
		}

		return signal_restaure;
	}
	
	var donnees = [669, 592, 664, 1005, 699, 401, 646, 472, 598, 681, 1126, 1260, 562, 491, 714, 530, 521, 687, 776, 802, 499, 536, 871, 801, 965, 768, 381, 497, 458, 699, 549, 427, 358, 219, 635, 756, 775, 969, 598, 630, 649, 722, 835, 812, 724, 966, 778, 584, 697, 737, 777, 1059, 1218, 848, 713, 884, 879, 1056, 1273, 1848, 780, 1206, 1404, 1444, 1412, 1493, 1576, 1178, 836, 1087, 1101, 1082, 775, 698, 620, 651, 731, 906, 958, 1039, 1105, 620, 576, 707, 888, 1052, 1072, 1357, 768, 986, 816, 889, 973, 983, 1351, 1266, 1053, 1879, 2085, 2419, 1880, 2045, 2212, 1491, 1378, 1524, 1231, 1577, 2459, 1848, 1506, 1589, 1386, 1111, 1180, 1075, 1595, 1309, 2092, 1846, 2321, 2036, 3587, 1637, 1416, 1432, 1110, 1135, 1233, 1439, 894, 628, 967, 1176, 1069, 1193, 1771, 1199, 888, 1155, 1254, 1403, 1502, 1692, 1187, 1110, 1382, 1808, 2039, 1810, 1819, 1408, 803, 1568, 1227, 1270, 1268, 1535, 873, 1006, 1328, 1733, 1352, 1906, 2029, 1734, 1314, 1810, 1540, 1958, 1420, 1530, 1126, 721, 771, 874, 997, 1186, 1415, 973, 1146, 1147, 1079, 3854, 3407, 2257, 1200, 734, 1051, 1030, 1370, 2422, 1531, 1062, 530, 1030, 1061, 1249, 2080, 2251, 1190, 756, 1161, 1053, 1063, 932, 1604, 1130, 744, 930, 948, 1107, 1161, 1194, 1366, 1155, 785, 602, 903, 1142, 1410, 1256, 742, 985, 1037, 1067, 1196, 1412, 1127, 779, 911, 989, 946, 888, 1349, 1124, 761, 994, 1068, 971, 1157, 1558, 1223, 782, 2790, 1835, 1444, 1098, 1399, 1255, 950, 1110, 1345, 1224, 1092, 1446, 1210, 1122, 1259, 1181, 1035, 1325, 1481, 1278, 769, 911, 876, 877, 950, 1383, 980, 705, 888, 877, 638, 1065, 1142, 1090, 1316, 1270, 1048, 1256, 1009, 1175, 1176, 870, 856, 860];

	noTendanceObj = retirerTendanceLineaire(donnees);
	donnees_sans_tendance = noTendanceObj.donnees;
	coef_tendance = noTendanceObj.coef;
	domaine_freq = fft(donnees_sans_tendance);
	f = fftfreq(donnees.length);
	indices_tries = trier_indice_frequences(f);
	var horizon = 70;
	var nb_harmonique = 40;
	prediction = predire(horizon, nb_harmonique, domaine_freq, f, indices_tries, coef_tendance);
</script>

<script type="text/javascript">
    $(function () {
        $('#container').highcharts({
            title: {
                text: 'Chiffre d\'affaires journalier',
                x: -20 //center
            },
            subtitle: {
                text: 'Source: fakeSource.com',
                x: -20
            },
            xAxis: {
                categories: []
            },
            yAxis: {
                title: {
                    text: 'CA (k€)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: 'k€'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: 'Réalisé',
                data: donnees
            }, {
                name: 'Prévisions',
                data: prediction
            }]
        });
    });
</script>

<script src="/assets/js/Highcharts/js/highcharts.js" type="text/javascript"></script>

<script src="/assets/js/Highcharts/js/modules/exporting.js" type="text/javascript"></script>

<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>


	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			 
				<li><a href="/categories.html#algorithme-ref">
					algorithme <span>(3)</span>
					,
				</a></li>
			 
				<li><a href="/categories.html#séries temporelles-ref">
					séries temporelles <span>(1)</span>
					
				</a></li>
			
		  
		</ul>
		  

		
		<ul class="list-inline">
		  <li><i class="fa fa-tags"></i></li>
		  
		  
			 
				<li>
					<a href="/tags.html#Algorithme-ref">
					Algorithme <span>(3)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#Javascript-ref">
					Javascript <span>(4)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#transformée de Fourier-ref">
					transformée de Fourier <span>(1)</span>
					
					</a>
				</li>
			
		  
		  
		</ul>
		  

		<hr>

		<div>
      <section class="share col-sm-6">
        <h4 class="section-title">Share Post</h4>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=Transformée de Fourier appliquée à la prédiction de séries temporelles&via=xopek59"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
        <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>
        <a class="btn btn-default btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
      </section>

      <section class="col-sm-6 author">
        <img src="http://www.gravatar.com/avatar/42c0cef4d509eedea70a02b9a4276913" class="img-rounded author-image" />
        <h4 class="section-title author-name">Antoine Vastel</h4>
        <p class="author-bio">French PhD student and engineer, passionnate about software engineering and machine learning!</p>
      </section>
    </div>

    <div class="clearfix"></div>

		<ul class="pager">
		  
		  <li class="previous"><a href="/algorithme/python/algorithmes%20g%C3%A9n%C3%A9tiques/2016/04/30/probleme-voyageur-commerce.html" title="Problème du voyageur de commerce">&larr; Previous</a></li>
		  
		  
		  <li class="next"><a href="/deep%20learning/machine%20learning/2016/07/09/deep-learning-image-classif.html" title="Réseau de neuronnes pré-entrainé appliqué à la classification d'images">Next &rarr;</a></li>
		  
		</ul>

		<hr>
	</div>
	
	<div class="col-sm-2 sidebar-2">
	
	</div>
</article>
<div class="clearfix"></div>



    
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'antoinevastel';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>





		<footer>
			<hr/>
			<p>
				&copy; 2017 Antoine Vastel with Jekyll. Theme: <a href="https://github.com/dbtek/dbyll">dbyll</a> by dbtek.
			</p>
		</footer>
	</div>
</body>
</html>



